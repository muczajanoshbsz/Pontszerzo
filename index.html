<!DOCTYPE html>
<html>
<head>
<style>


body {
  background-color: rgb(135, 135, 222); 
  font-family: Arial, sans-serif;
  text-align: center;
  margin: 20px;
}

.container {
  display: grid;
  grid-template-columns: repeat(3, 100px); 
  grid-gap: 8px;
  justify-content: center;
  padding: 5px;
}

.container > div {
  background-color: #f1f1f1;
  border: 1px solid black;
  border-radius: 10px; 
  padding: 20px;
  font-size: 24px;
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: transform 0.2s, background-color 0.2s, box-shadow 0.2s;
}

.container > div:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 8px rgba(0,0,0,0.2); 
}

button {
  margin-top: 20px;
  padding: 10px 20px;
  font-size: 18px;
  cursor: pointer;
  background-color: white;
  border: none;
  border-radius: 6px;
  transition: background-color 0.3s, transform 0.2s;
}

button:hover {
  background-color: green;
  color: white;
  transform: scale(1.05);
}

#scoreDisplay {
  background-color: lightgreen;
  padding: 10px 20px;
  border-radius: 8px;
  display: inline-block;
  margin: 5px;
}

#missedDisplay {
  background-color: lightslategray;
  padding: 10px 20px;
  border-radius: 8px;
  display: inline-block;
  margin: 5px;
}

#timeDisplay {
  background-color: red;
  padding: 10px 20px;
  border-radius: 8px;
  display: inline-block;
  margin: 5px;
}

</style>
</head>
<body>

<h1>Pontszerző játék</h1>

<script>
let score = 0;
let missed = 0;
let timeLeft = 30;
let activeCell = null;
let gameInterval = null;
let colorInterval = null;

const container = document.createElement('div');
container.className = 'container';
document.body.appendChild(container);
for (let i = 0; i < 12; i++) {
    const cell = document.createElement('div');
    cell.innerHTML = i + 1;
    container.appendChild(cell);
}

const cells = document.querySelectorAll('.container > div');
const colors = ['red', 'green', 'blue', 'yellow', 'purple', 'orange'];

const scoreDisplay = document.createElement('h2');
scoreDisplay.id = 'scoreDisplay';
scoreDisplay.innerHTML = 'Pontszám: 0';
document.body.appendChild(scoreDisplay);

const missedDisplay = document.createElement('h2');
missedDisplay.id = 'missedDisplay';
missedDisplay.innerHTML = 'Elhibázott: 0';
document.body.appendChild(missedDisplay);

const timeDisplay = document.createElement('h2');
timeDisplay.id = 'timeDisplay';
timeDisplay.innerHTML = 'Idő: 30';
document.body.appendChild(timeDisplay);

const startButton = document.createElement('button');
startButton.innerHTML = 'Játék indítása';
document.body.appendChild(startButton);

function activateRandomCell() {
    if (activeCell) activeCell.style.backgroundColor = '';
    const randomIndex = Math.floor(Math.random() * cells.length);
    activeCell = cells[randomIndex];
    activeCell.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
}

function startGame() {
    score = 0;
    missed = 0;
    timeLeft = 30;
    scoreDisplay.innerHTML = 'Pontszám: 0';
    missedDisplay.innerHTML = 'Elhibázott: 0';
    timeDisplay.innerHTML = 'Idő: 30';
    if (activeCell) activeCell.style.backgroundColor = '';
    activeCell = null;

    if (gameInterval) clearInterval(gameInterval);
    gameInterval = setInterval(() => {
        timeLeft--;
        timeDisplay.innerHTML = 'Idő: ' + timeLeft;
        if (timeLeft <= 0) {
            clearInterval(gameInterval);
            clearInterval(colorInterval);
            alert('Játék vége! Pontszám: ' + score + ', Elhibázott: ' + missed);
        }
    }, 1000);

    if (colorInterval) clearInterval(colorInterval);
    colorInterval = setInterval(activateRandomCell, 1000);
}

startButton.onclick = startGame;

cells.forEach(cell => {
    cell.addEventListener('click', () => {
        if (cell === activeCell) {
            score++;
            scoreDisplay.innerHTML = 'Pontszám: ' + score;
            cell.style.backgroundColor = '';
            activeCell = null;
        } else {
            missedDisplay.innerHTML = 'Elhibázott: ' + (++missed);
        }
    });
});
</script>

</body>
</html>
